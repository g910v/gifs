import{D as v,C as R,r as o,P as B,u as C,O as d,m as F,c as M,a as U,b as j,f as S,d as k,s as G,j as u,e as L}from"./index-1b6b103a.js";import{T as V}from"./tooltip.esm-9b3cccb9.js";import{u as z,a as H}from"./ImgContent-52916a08.js";import{G as W}from"./GifsGrid-6b4e9ddb.js";function P(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function $(t){if(Array.isArray(t))return P(t)}function Y(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function q(t,e){if(t){if(typeof t=="string")return P(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return P(t,e)}}function J(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Q(t){return $(t)||Y(t)||q(t)||J()}var c={DEFAULT_MASKS:{pint:/[\d]/,int:/[\d\-]/,pnum:/[\d\.]/,money:/[\d\.\s,]/,num:/[\d\-\.]/,hex:/[0-9a-f]/i,email:/[a-z0-9_\.\-@]/i,alpha:/[a-z_]/i,alphanum:/[a-z0-9_]/i},getRegex:function(e){return c.DEFAULT_MASKS[e]?c.DEFAULT_MASKS[e]:e},onBeforeInput:function(e,n,r){r||!v.isAndroid()||this.validateKey(e,e.data,n)},onKeyPress:function(e,n,r){r||v.isAndroid()||e.ctrlKey||e.altKey||this.validateKey(e,e.key,n)},onPaste:function(e,n,r){if(!r){var a=this.getRegex(n),s=e.clipboardData.getData("text");Q(s).forEach(function(l){if(!a.test(l))return e.preventDefault(),!1})}},validateKey:function(e,n,r){if(n!=null){var a=n.length===1;if(a){var s=this.getRegex(r);s.test(n)||e.preventDefault()}}},validate:function(e,n){var r=e.target.value,a=!0,s=this.getRegex(n);return r&&!s.test(r)&&(a=!1),a}};function b(){return b=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},b.apply(this,arguments)}function m(t){"@babel/helpers - typeof";return m=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},m(t)}function X(t,e){if(m(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(m(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Z(t){var e=X(t,"string");return m(e)==="symbol"?e:String(e)}function ee(t,e,n){return e=Z(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var te={root:function(e){var n=e.props,r=e.isFilled;return M("p-inputtext p-component",{"p-disabled":n.disabled,"p-filled":r},n.className)}},g=R.extend({defaultProps:{__TYPE:"InputText",__parentMetadata:null,keyfilter:null,validateOnly:!1,tooltip:null,tooltipOptions:null,onBeforeInput:null,onInput:null,onKeyDown:null,onPaste:null,children:void 0},css:{classes:te}});function w(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function I(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?w(Object(n),!0).forEach(function(r){ee(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):w(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}var _=o.memo(o.forwardRef(function(t,e){var n=o.useContext(B),r=g.getProps(t,n),a=g.setMetaData(I(I({props:r},r.__parentMetadata),{},{context:{disabled:r.disabled}})),s=a.ptm,l=a.cx,y=a.isUnstyled;C(g.css.styles,y,{name:"inputtext",styled:!0});var p=o.useRef(e),f=function(i){r.onKeyDown&&r.onKeyDown(i),r.keyfilter&&c.onKeyPress(i,r.keyfilter,r.validateOnly)},E=function(i){r.onBeforeInput&&r.onBeforeInput(i),r.keyfilter&&c.onBeforeInput(i,r.keyfilter,r.validateOnly)},K=function(i){var x=i.target,O=!0;r.keyfilter&&r.validateOnly&&(O=c.validate(i,r.keyfilter)),r.onInput&&r.onInput(i,O),d.isNotEmpty(x.value)?v.addClass(x,"p-filled"):v.removeClass(x,"p-filled")},A=function(i){r.onPaste&&r.onPaste(i),r.keyfilter&&c.onPaste(i,r.keyfilter,r.validateOnly)};o.useEffect(function(){d.combinedRefs(p,e)},[p,e]);var D=o.useMemo(function(){return d.isNotEmpty(r.value)||d.isNotEmpty(r.defaultValue)},[r.value,r.defaultValue]),T=d.isNotEmpty(r.tooltip),N=F({className:l("root",{isFilled:D}),onBeforeInput:E,onInput:K,onKeyDown:f,onPaste:A},g.getOtherProps(r),s("root"));return o.createElement(o.Fragment,null,o.createElement("input",b({ref:p},N)),T&&o.createElement(V,b({target:p,content:r.tooltip},r.tooltipOptions,{pt:s("tooltip")})))}));_.displayName="InputText";const ie=()=>{const t=z(),{gifList:e,loading:n,totalRecord:r,fetching:a}=H(f=>f.gifGridReducer),{t:s}=U(),[l,y]=o.useState(""),p=()=>{y(""),t(j())};return o.useEffect(()=>{const f=setTimeout(()=>{l.length>1&&(t(j()),t(S(l)))},1e3);return()=>clearTimeout(f)},[l,t]),o.useEffect(()=>{a&&e.length!==r&&(t(k()),t(S(l)))},[a,t]),o.useEffect(()=>()=>{t(G())},[]),u.jsxs("div",{className:"w-full flex flex-column align-items-center justify-content-center p-3 lg:pt-8 pt-5",children:[u.jsxs("span",{className:"p-input-icon-left p-input-icon-right lg:mb-6 mb-3 lg:w-9 w-11",children:[u.jsx("i",{className:"pi pi-search w-max"}),u.jsx(_,{value:l,onChange:f=>y(f.target.value),placeholder:s("search"),className:"w-full",style:{backgroundColor:"transparent",border:"1px solid var(--text-color)"}}),n&&u.jsx("i",{className:"pi pi-spin pi-spinner mr-1"}),!n&&!!l.length&&u.jsx("i",{className:"pi pi-times mr-1 cursor-pointer",onClick:p})]}),u.jsx(W,{gifList:e}),!!e.length&&n&&u.jsx(L,{className:"w-5rem mt-5",strokeWidth:"3"})]})};export{ie as default};
